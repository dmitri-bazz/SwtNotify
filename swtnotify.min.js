(function(d,b,a){window.SwtNotify=a({},window.jQuery||window.$)})("swtnotify",this,function(d,b){d.VERSION="0.0.1";d.$=b;d.Notifier=function(a){a=this._overrideDefaulOptions({el:"body",template:'<table class="swt-notification"><td class="swt-notify-count"><span class="swt-value swt-data-count">3</span></td><td class="swt-notify-body swt-data-text"></td></table>',containerTemplate:'<div class="swt-notify-container"></div>',useCloseIcon:!0,autoCloseSetPointerCSS:!0,slideDuration:700,closeTemplate:'<td class="swt-close"><span class="swt-close-icon">x</span></td>',
closeEvent:null,maxHeight:350},a||{});this._setOptionsToSelf(a);this._$el=b(this.el);this._$container=b(this.containerTemplate).css("max-height",this.maxHeight);this._$el.find(this._$container).remove();this.notiId=0;this.notiDict={};this.que=[];this._clearingQue=!1;this._$el.prepend(this._$container)};d.Notifier.prototype={constructor:d.Notifier,notify:function(a,e){var c=this._findDuplication(a);if(c)c=c.closest(".swt-notification").find(".swt-data-count"),c.text(parseInt(c.text())+1);else{c=b(this.template).addClass("swt-level-"+
(e||"success")).wrap(b("<div/>")).parent();c.find(".swt-notify-body").html(a);c.find(".swt-data-count").text(1);c.attr("swt-id",this.notiId);if(this.closeTemplate){var f=b(this.closeTemplate);c.find(".swt-data-text").parent().append(f);this._setupNotificationCallback(f)}else this._setupNotificationCallback(c);c.hide();this._$container.prepend(c);this.que.push(c);this.notiDict[this.notiId]=c;this.notiId++;this._clearingQue||(this._unhideNextInQue(),this._clearingQue=!0)}},clear:function(a){this.notiDict[a].remove();
this.closeCallback&&this.closeCallback(this.notiDict[a]);delete this.notiDict[a]},clearAll:function(){b.each(this.notiDict,function(a,b){b.remove()});this.notiDict={}},_unhideNextInQue:function(){var a=this;0<a.que.length?a.que.shift().slideDown(a.slideDuration,function(){a._unhideNextInQue()}):a._clearingQue=!1},_overrideDefaulOptions:function(a,e){var c={};b.each(a,function(b,d){c[b]=e[b]||a[b]});return c},_setOptionsToSelf:function(a){var e=this;b.each(a,function(a,b){e[a]=b})},_setupNotificationCallback:function(a){var e=
this;this.autoCloseSetPointerCSS&&a.css("cursor","pointer");a.click(function(a){a=b(a.target).closest(".swt-notification").parent().attr("swt-id");e.clear(a)})},_findDuplication:function(a){var e=null;this._$container.find(".swt-data-text").each(function(c,d){var g=b(d);g.text()===a&&(e=g)});return e}};return d});
