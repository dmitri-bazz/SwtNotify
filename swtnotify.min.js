!function(a,b,c){window.SwtNotify=c({},window.jQuery||window.$)}("swtnotify",this,function(a,b){return a.VERSION="1.0.1",a.$=b,a.Notifier=function(a,c){var d={el:"body",template:'<table class="swt-notification"><td class="swt-notify-count"><span class="swt-value swt-data-count">3</span></td><td class="swt-notify-body swt-data-text"></td></table>',containerTemplate:'<div class="swt-notify-container"></div>',useCloseIcon:!0,autoCloseSetPointerCSS:!0,slideDuration:700,closeTemplate:'<td class="swt-close"><span class="swt-close-icon">x</span></td>',closeEvent:null,maxHeight:350};b=c;var e=this._overrideDefaulOptions(d,a||{});this._setOptionsToSelf(e),this._$el=b(this.el);var f=this._$el.find("> .swt-notify-container");f.length>0?this._$container=f:this._$container=b(this.containerTemplate).css("max-height",this.maxHeight),this.notiId=0,this.notiDict={},this.que=[],this._clearingQue=!1,this._$el.is("body")&&this._$container.css("position","fixed"),this._$el.prepend(this._$container)},a.Notifier.prototype={constructor:a.Notifier,notify:function(a,c){var d=this._findDuplication(a);if(d){var e=d.closest(".swt-notification").find(".swt-data-count");e.text(parseInt(e.text())+1)}else{var f=b(this.template).addClass("swt-level-"+(c||"success")).wrap(b("<div/>")).parent();if(f.find(".swt-notify-body").html(a),f.find(".swt-data-count").text(1),f.attr("swt-id",this.notiId),this.closeTemplate){var g=b(this.closeTemplate);f.find(".swt-data-text").parent().append(g),this._setupNotificationCallback(g)}else this._setupNotificationCallback(f);f.hide(),this._$container.prepend(f),this.que.push(f),this.notiDict[this.notiId]=f,this.notiId++,this._clearingQue||(this._unhideNextInQue(),this._clearingQue=!0)}},clear:function(a){this.notiDict[a].remove(),this.closeCallback&&this.closeCallback(this.notiDict[a]),delete this.notiDict[a]},clearAll:function(){b.each(this.notiDict,function(a,b){b.remove()}),this.notiDict={}},_unhideNextInQue:function(){var a=this;a.que.length>0?a.que.shift().slideDown(a.slideDuration,function(){a._unhideNextInQue()}):a._clearingQue=!1},_overrideDefaulOptions:function(a,c){var d={};return b.each(a,function(b,e){d[b]=c[b]||a[b]}),d},_setOptionsToSelf:function(a){var c=this;b.each(a,function(a,b){c[a]=b})},_setupNotificationCallback:function(a){var c=this;this.autoCloseSetPointerCSS&&a.css("cursor","pointer"),a.click(function(a){var d=b(a.target).closest(".swt-notification").parent(),e=d.attr("swt-id");c.clear(e)})},_findDuplication:function(a){var c=this._$container.find(".swt-data-text"),d=null;return c.each(function(c,e){var f=b(e),g=f.text();g===a&&(d=f)}),d}},a});
